# Avoid Work in the Browser

One of the main principles in [[jamstack]] is to do as much work as possible in the build step instead of in the user's browser.

## Example: Shiki

Syntax highlighting is a large burden for the user's browser in two ways: processing and bundle size.

1. Processing - running a tokenizer for syntax highlighting is a lot of effort for the CPU. It just doesn't feel right to do that work every time a user views the page (or worse, every time the page changes if Html.Lazy isn't being used)
2. Bundle size - I want to be able to use any language I want in my site. Not just JSON or CSS or Elm, but maybe I want to show an F# example to show a language feature there. Even with splitting out different language highlighting into bundles that I can import individually (which is a burden to manage as a developer), I don't want to increase the bundle size every time I refer to a new language

Sustainability - it's not sustainable to re-invent these tools for every ecosytem. There's a great NPM package called Shiki that can do this for us. I want to perform this task using existing tools, without having to reinvent the wheel or burden the user's browser.

## The solution - do the work at build-time

## Optimization - cache the result

[//begin]: # "Autogenerated link references for markdown compatibility"
[jamstack]: jamstack "Jamstack"
[//end]: # "Autogenerated link references"
